<app-page-title title="Add new list">
</app-page-title>


<p-blockUI [blocked]="creating"></p-blockUI>
<form [formGroup]="form">
  <app-text-input formControlName="name" label="Name" [invalid]="!form.controls['name'].valid&&form.controls['name'].dirty" validationError="Name is required"></app-text-input>
  <app-tag-input-form-item formControlName="tags"></app-tag-input-form-item>
  <app-repository-input formControlName="repository"></app-repository-input>

  <div formGroupName="details" style="padding-bottom: 0.25em">
    <p-checkbox id="manualSorting" formControlName="manualSorting" [binary]="true"></p-checkbox>
    <label for="manualSorting" class="CheckBoxLabel">Manually sorted list</label>
  </div>
  <div style="padding-bottom: 0.5em">
    <p-checkbox id="filtered" (onChange)="toggleManual()"></p-checkbox>
    <label for="filtered" class="CheckBoxLabel">Use filter to add tasks to list</label>
  </div>

  <div *ngIf="isFiltered">
    <app-task-filter (filter)="setFilter($event)"></app-task-filter>
  </div>
  <div class="p-grid">
    <div class="p-col">
      <button pButton type="button" label="Submit" (click)="onSubmit()" class="ui-button-info" [disabled]="!form.valid"></button>
    </div>
  </div>
</form>