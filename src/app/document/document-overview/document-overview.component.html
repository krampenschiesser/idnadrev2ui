<app-page-title title="Documents">
    <button pButton type="button" icon="fa fa-plus-circle" pTooltip="Add new document" style="width: 5em; height: 2.5em;margin-bottom: 0.4em" (click)="this.addDoc()"></button>
</app-page-title>


<div class="p-grid">
  <div class="p-col">
    <app-idnadrev-file-filter (filter)="onFilter($event)"></app-idnadrev-file-filter>
    <p-table [autoLayout]="true" [value]="files" [rowHover]="true" [paginator]="true" [rows]="tableRows" sortMode="multiple">
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn='updated'>
            Updated
            <p-sortIcon field="updated"></p-sortIcon>
          </th>
          <th pSortableColumn='name'>
            Name
            <p-sortIcon field="name"></p-sortIcon>
          </th>
          <th pSortableColumn='fileType'>
            Type
            <p-sortIcon field="fileType"></p-sortIcon>
          </th>
          <th>Repository</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-file>
        <tr (mouseover)="this.showPreview(file)">
          <td (click)="showView(file)">{{file.updated | date: "short"}}</td>
          <td (click)="showView(file)">{{file.name}}</td>
          <td (click)="showView(file)">{{file.fileType}}</td>
          <td (click)="showView(file)">{{file.repository | repositoryName}}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  <div class="p-col PaddingTop" *ngIf="display.xxl">
    <app-idnadrev-file-preview (onEdit)="onEdit()" (onDelete)="onDelete()" *ngIf="selectedFile" [file]="selectedFile"></app-idnadrev-file-preview>
  </div>
</div>